// Variables to control the layout
$nf-column-spacing: 15px;
$space-below-fields: 25px;
$input-spacing: 15px;
$input-height: 50px;
$checkbox-size: 30px;
$input-background-color: $image-placeholder;
$error-color: #d60200;

.nf-form-cont,
.woocommerce-checkout,
.site-main,
#wpcs__store {


  // Hide top and bottom required and error messages
  .nf-after-form-content,
  .nf-form-fields-required {
    display: none;
  }

  .nf-form-content {
    margin-left: -$nf-column-spacing;
    margin-right: -$nf-column-spacing;
  }

  .nf-field-container {
    padding: 0 $nf-column-spacing;
    position: relative;

    .nf-input-limit {
      display: none;
    }

    // Inputs
    .ninja-forms-field {
      background: $input-background-color;
      border: 1px solid $input-background-color;
      padding: 0 $input-spacing;
      transition: 0.3s border, 0.3s background;
      height: $input-height;
      line-height: $input-height;
      border-radius: 0;
      box-shadow: none;
      -webkit-appearance: none;

      &:focus {
        border: 1px solid $brand-primary;
        background-color: #fff;
      }
    }

    // Textareas
    textarea.ninja-forms-field {
      padding: 0 $input-spacing !important;
      border: 1px solid $input-background-color;
      height: 200px;
      resize: vertical;
      min-height: 150px;
      max-height: 250px;
      border-radius: 0;
      box-shadow: none;
      -webkit-appearance: none;
    }

    // Columns helpers
    &.columns {
      display: inline;
      float: left;
      clear: none;
      margin: 0;
      margin-bottom: $space-below-fields;

      &.half {
        width: 50%;
      }

      &.quarter {
        width: 25%;
      }

      &.threeQuarter {
        width: 75%;
      }

      &.third {
        width: 33.333%;
      }

      &.sixth {
        width: 66.666%;
      }

      @include mediaMax($tablet-l) {
        width: 100% !important;
      }
    }

  }

  // Labels
  .nf-field-label {
    label {
      font-weight: normal;

      span {
        color: $colour-text-body;
        font-size: 14px;
      }
    }
  }

  .nf-after-field {
    position: absolute;
    bottom: -$input-spacing;
    right: ($input-spacing*2 - 2px);
    text-align: right;

    .nf-error-msg {
      pointer-events: none;
      background-color:#fff;
      color: $error-color;
      font-size: 10px;
      padding: 0 8px;
      margin: 0;
      display: inline-block;
      height: 24px;
      line-height: 20px;
      border-radius: 5px;
      border: 1px solid $input-background-color;
    }
  }

  // Checkbox
  .custom-checkbox-message {
    width: calc(100% - 90px);
    display: inline-block;

    .nf-field-element {

      p {
        margin: 0;
        padding-top: 10px;
      }

      a {
        border-bottom: 1px solid;
        transition: 0.3s all;

        &:hover {
          color: $brand-primary;
        }
      }
    }
  }

  .checkbox-container {
    &.custom-checkbox {
      width: 45px;
      display: inline-block;

      .nf-error-wrap {
        display: none;
      }

      .checkbox-wrap {
        padding-right: 15px;

        &.nf-error,
        &.nf-fail {
          label {
            background-color: $error-color;
          }
        }

        .nf-field-element {
          width: 0;
        }

        .nf-field-label {
          padding: 0;
        }
        input {
          height: 0;
          width: 0;
          opacity: 0;
        }

        label {
          height: $checkbox-size;
          width: $checkbox-size;
          background-color: $image-placeholder;
          font-size: 0;
          position: relative;
          cursor: pointer;
          margin-top: -4px;

          &:before {
            pointer-events: none;
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            left: 0;
            top: 0;
            background: $image-placeholder url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyODMuNDZweCIgaGVpZ2h0PSIyODMuNDZweCIgdmlld0JveD0iMCAwIDI4My40NiAyODMuNDYiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDI4My40NiAyODMuNDYiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxwYXRoIGZpbGw9IiM3M0EyOTUiIGQ9Ik0xOS4wMTQsMTUxLjM5MmMtMS45MzItMS45MzMtMi44OTgtNC44MzEtMi44OTgtNi43NjRzMC45NjYtNC44MzEsMi44OTgtNi43NjRsMTMuNTI4LTEzLjUyN2MzLjg2Ni0zLjg2NSw5LjY2My0zLjg2NSwxMy41MjgsMGwwLjk2NiwwLjk2Nmw1My4xNDUsNTcuMDA5YzEuOTMzLDEuOTM0LDQuODMxLDEuOTM0LDYuNzY0LDBsMTI5LjQ4LTEzNC4zMTFoMC45NjZsMCwwYzMuODY1LTMuODY1LDkuNjYzLTMuODY1LDEzLjUyOCwwbDEzLjUyNywxMy41MjhjMy44NjUsMy44NjUsMy44NjUsOS42NjMsMCwxMy41MjdsMCwwbC0xNTQuNjAzLDE2MC40Yy0xLjkzMywxLjkzMy0zLjg2NSwyLjg5OS02Ljc2NCwyLjg5OWMtMi44OTgsMC00LjgzMi0wLjk2Ny02Ljc2NC0yLjg5OWwtNzUuMzY5LTgxLjE2NkwxOS4wMTQsMTUxLjM5MkwxOS4wMTQsMTUxLjM5MnoiLz48L3N2Zz4=);
            background-size: 80%;
            background-repeat: no-repeat;
            background-position: center;
            opacity: 0;
            transition: 0.3s all;
            transform: rotate(10deg);
          }

          &.nf-checked-label {
            &:before {
              transform: rotate(0);
              opacity: 1;
            }
          }
          span {
            display: none;
          }
        }

        @media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
          label {
            font-size: 10px;
            text-indent: -9999px;
            display: inline-table;
          }
        }
      }
    }

  }

  // Submit
  .submit-container {
    margin: 0;
    .nf-field-element {
      text-align: right;

      input {
        background-color: $brand-primary;
        border-color: $brand-primary;
        color: #fff;
        min-width: 150px;
        cursor: pointer;

        &:hover {
          background-color: #fff;
          color: $brand-primary;
        }
      }
    }
  }

  // Select2

  .select2-container {
    transform: translateY(0);
    height: $input-height;
    padding: 0;
    margin: 0;
    background-color: $input-background-color;
    z-index: 10;

    @include mediaMax($tablet-s) {
      height: $input-height;
    }

    &:nth-last-child {
      border: 0;
    }
  }

  .select2-container--default .select2-selection--single {
    font-family: $font-alpha;
    border: 0;
    border-radius: 0;
    background: transparent;
    height: $input-height;
  }

  .select2-container--default .select2-selection--single .select2-selection__rendered {
    color: #767676;
    @include responsive-font-size(16px, 16px);
    font-weight: 400;
    height: $input-height;
    padding-left: $input-spacing;
    padding-right: 48px;
    transition: all 0.3s;
    display: flex;
    align-items: center;

    @include mediaMax($tablet-s) {
      height: $input-height;
    }
  }

  .select2-container {
    transition: opacity 0.3s;
    z-index: 50;

    @include mediaMax($tablet-s) {
      width: calc(100% - 40px);
    }

    &.select2-dropdown {
      opacity: 0;
      transition: opacity 0.3s;
    }

    &.select2-container--open {
      .select2-dropdown {
        opacity: 0;
      }
    }
  }

  .select2-container--default .select2-search--dropdown .select2-search__field {
    border: 0;
    border-bottom: 1px solid $colour-text-body;
    background: transparent;
  }

  .select2-container--default .select2-dropdown {
    border: 0 !important;
    background-color: rgba(#fff, 1) !important;
    box-shadow: 0 9px 10px 0 rgba(0, 0, 0, 0.075);
    // opacity: 0;
    transition: opacity 0.3s;
    //transition-delay: 2s;
  }

  .select2-container--default.select2-container--open .select2-dropdown {
    //opacity: 1;
    //transition-delay: 2s;
  }

  .select2-search--dropdown {
    padding: 10px;
  }

  .select2-results__option {
    padding: 10px 10px 10px 18px;
    transition: all 0.15s;
    font-size: 0.875rem;
  }

  .select2-container--default .select2-results__option--highlighted[aria-selected] {
    background-color: #ebe7e9;
    font-weight: 400;
    color: $colour-text-body;
  }

  .select2-container--default .select2-results__option[aria-selected="true"] {
    background-color: #ebe7e9;
    font-weight: 700;
    color: $colour-text-body;
  }

  .select2-container--default .select2-selection--single .select2-selection__arrow {
    height: $input-height;
    background-repeat: no-repeat;
    background-size: 22px;
    transform: rotate(0) translateZ(0);
    background-position: center;
    background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyODMuNDZweCIgaGVpZ2h0PSIyODMuNDZweCIgdmlld0JveD0iMCAwIDI4My40NiAyODMuNDYiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDI4My40NiAyODMuNDYiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxwYXRoIGZpbGw9IiM3M0EyOTUiIGQ9Ik0xLjk0NSw3OC45MzRsMTM0Ljk5MywxMzQuOTljMS4zMTUsMS4zMTcsMy4wNDUsMS45NTgsNC43NywxLjkzOWMxLjcyNiwwLjAxOSwzLjQ1NS0wLjYyMyw0Ljc3LTEuOTM5TDI4MS40Nyw3OC45MzRjMi41OTMtMi41OTQsMi41OTMtNi43OTksMC05LjM5M2MtMi41OTQtMi41OTMtNi43OTctMi41OTMtOS4zOTEsMGwtMTMwLjM3MiwxMzAuMzdMMTEuMzM5LDY5LjU0MmMtMi41OTYtMi41OTMtNi44MDEtMi41OTMtOS4zOTUsMEMtMC42NDgsNzIuMTM1LTAuNjQ4LDc2LjM0LDEuOTQ1LDc4LjkzNCIvPjwvc3ZnPg==);
    right: $input-spacing;
    transition: all 0.3s;

    @include mediaMax($tablet-s) {
      height: $input-height;
    }

    b {
      display: none;
    }
  }

  .select2-container--default.select2-container--open .select2-selection--single .select2-selection__arrow {
    transform: rotate(180deg);
  }

  .select2 {
    width: 100% !important;
  }

  .select2-results__options li {
    text-align: left;
    &:first-child {
      //display: none;
    }
  }

  .select2-results {
    overflow: hidden;
  }

  .select2-results__options {
    background-color: #f8f5f6 !important;
    li {
      overflow: hidden;
    }
    ul {
      overflow: hidden;
    }
  }

  .select2-results {
    font-size: 16px;
  }

  .select2-selection__choice {
    padding: 4px;
  }
}

.woocommerce .site-main form,
#wpcs__store form {

  input,
  textarea {
    background: $input-background-color;
    border: 1px solid $input-background-color;
    padding: 0 $input-spacing;
    transition: 0.3s border, 0.3s background;
    height: $input-height;
    line-height: $input-height;
    -webkit-appearance: none;

    &:focus {
      border: 1px solid $brand-primary;
      background-color: #fff;
    }
  }

  textarea {
    padding: $input-spacing !important;
    border: 1px solid $input-background-color;
    background: $input-background-color;
    height: 200px;
    resize: vertical;
    line-height: inherit;
    min-height: 150px;
    max-height: 250px;
  }

  label {
    margin-bottom: 10px;
  }

  .form-row {
    margin-bottom: 15px;

    .required {
      color: $colour-text-body;
    }
  }
}

.woocommerce-checkout,
.site-main {
  .select2-container--default.select2-container--open .select2-dropdown {
    opacity: 1;
  }

  #ship-to-different-address-checkbox {
    display: none;
  }

  #payment {
    background: transparent;
    input {
      display: none;
    }

    label {
      @include responsive-font-size(20px, 20px);
      font-weight: 700;
      letter-spacing: 0;
      text-transform: uppercase;
    }

    ul.payment_methods li {
      margin-bottom: 20px;
    }

    .payment_box {
      input {
        display: inline-block !important;
      }
    }
  }
}

#customer_details {
  @include responsive-padding-top-bottom($block-spacing-min, $block-spacing-max);
  padding-top: 0 !important;
}

#order_review {
  .shop_table {
    border: 0;
  }
}
